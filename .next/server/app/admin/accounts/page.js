(()=>{var e={};e.id=975,e.ids=[975],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7687:(e,t,s)=>{Promise.resolve().then(s.bind(s,62408))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15616:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var a=s(60687);s(43210);var i=s(96241);function r({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,i.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},47007:(e,t,s)=>{Promise.resolve().then(s.bind(s,73070))},62408:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/Store-Management/app/admin/accounts/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/Store-Management/app/admin/accounts/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73070:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(60687),i=s(43210),r=s(9577),n=s(55192),l=s(24934),c=s(68988),o=s(39390),d=s(15616),m=s(63974),h=s(59821),p=s(37826),x=s(95033),u=s(88233),g=s(96474),v=s(41862),j=s(99270),f=s(63143),y=s(59556),b=s(52581),N=s(24302);function w(){let{isCollapsed:e}=(0,N.c)(),[t,s]=(0,i.useState)([]),[w,k]=(0,i.useState)([]),[C,S]=(0,i.useState)(!0),[_,T]=(0,i.useState)(null),[A,$]=(0,i.useState)(""),[D,P]=(0,i.useState)("Tất cả"),[E,M]=(0,i.useState)(1),[F,R]=(0,i.useState)(0),[z,q]=(0,i.useState)(!1),[G,L]=(0,i.useState)(!1),[J,V]=(0,i.useState)(null),[K,X]=(0,i.useState)(!1),[I,O]=(0,i.useState)({name:"",category:[],price:0,Discount:0,stock:0,duration:"1_month",description:[""],policy:[""]}),H=async()=>{try{S(!0);let e=await y.iw.getAll(E,10);if(console.log("API Response:",e),e.success&&e.data){let t=[],a=0;Array.isArray(e.data)?(t=e.data,a=e.count||e.data.length):e.data.accounts?(t=e.data.accounts,a=e.data.count||e.data.total||0):e.data.items&&(t=e.data.items,a=e.data.count||e.data.total||0),s(t),R(a),console.log("Accounts set:",t)}else T(e.message||"Kh\xf4ng thể tải danh s\xe1ch t\xe0i khoản")}catch(e){console.error("Fetch error:",e),T("Lỗi kết nối đến server")}finally{S(!1)}},Z=t?.filter(e=>{let t=e.name.toLowerCase().includes(A.toLowerCase()),s="Tất cả"===D||e.category.includes(D);return t&&s})||[],B=()=>{O({name:"",category:[],price:0,Discount:0,stock:0,description:[""],policy:[""]}),V(null)},Q=async e=>{e.preventDefault(),X(!0);try{let e=new FormData;e.append("name",I.name),e.append("price",I.price.toString()),e.append("Discount",(I.Discount||0).toString()),e.append("stock",(I.stock||0).toString()),e.append("category",I.category.join(",")),e.append("description",I.description.join(",")),e.append("policy",I.policy.join(",")),I.thumbnail&&e.append("thumbnail",I.thumbnail),I.imagepreview&&I.imagepreview.length>0&&I.imagepreview.forEach(t=>{e.append("imagepreview",t)}),I.videopreview&&I.videopreview.length>0&&I.videopreview.forEach(t=>{e.append("videopreview",t)});let t=await y.iw.create(e);t.success?(b.oR.success("Tạo t\xe0i khoản th\xe0nh c\xf4ng!"),q(!1),B(),H()):b.oR.error(t.message||"Kh\xf4ng thể tạo t\xe0i khoản")}catch(e){b.oR.error("Lỗi kết nối đến server")}finally{X(!1)}},W=async e=>{if(e.preventDefault(),J){X(!0);try{let e=new FormData;e.append("name",I.name),e.append("price",I.price.toString()),e.append("Discount",(I.Discount||0).toString()),e.append("stock",(I.stock||0).toString()),e.append("category",I.category.join(",")),e.append("description",I.description.join(",")),e.append("policy",I.policy.join(",")),I.thumbnail&&e.append("thumbnail",I.thumbnail),I.imagepreview&&I.imagepreview.length>0&&I.imagepreview.forEach(t=>{e.append("imagepreview",t)}),I.videopreview&&I.videopreview.length>0&&I.videopreview.forEach(t=>{e.append("videopreview",t)});let t=await y.iw.update(J._id,e);t.success?(b.oR.success("Cập nhật t\xe0i khoản th\xe0nh c\xf4ng!"),L(!1),B(),H()):b.oR.error(t.message||"Kh\xf4ng thể cập nhật t\xe0i khoản")}catch(e){b.oR.error("Lỗi kết nối đến server")}finally{X(!1)}}},U=async e=>{try{let t=await y.iw.delete(e);t.success?(b.oR.success("X\xf3a t\xe0i khoản th\xe0nh c\xf4ng!"),H()):b.oR.error(t.message||"Kh\xf4ng thể x\xf3a t\xe0i khoản")}catch(e){b.oR.error("Lỗi kết nối đến server")}},Y=e=>{V(e),O({name:e.name,category:e.category,price:e.price,Discount:e.Discount,stock:e.stock,duration:e.duration||"1_month",description:e.description||[""],policy:e.policy||[""]}),L(!0)},ee=(e,t)=>{t&&("thumbnail"===e?O(s=>({...s,[e]:t[0]})):("imagepreview"===e||"videopreview"===e)&&O(s=>({...s,[e]:Array.from(t)})))},et=(e,t,s)=>{O(a=>({...a,[e]:a[e].map((e,a)=>a===t?s:e)}))},es=e=>{O(t=>({...t,[e]:[...t[e],""]}))},ea=(e,t)=>{O(s=>({...s,[e]:s[e].filter((e,s)=>s!==t)}))},ei=(e=!1)=>(0,a.jsxs)("form",{onSubmit:e?W:Q,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-name",children:"T\xean sản phẩm *"}),(0,a.jsx)(c.p,{id:"account-name",value:I.name,onChange:e=>O(t=>({...t,name:e.target.value})),required:!0,placeholder:"Nhập t\xean sản phẩm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-category",children:"Danh mục *"}),(0,a.jsxs)("div",{className:"border rounded-md p-3 space-y-2",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Chọn một hoặc nhiều danh mục:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:w.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:`category-${e._id}`,checked:I.category.includes(e.name),onChange:t=>{t.target.checked?O(t=>({...t,category:[...t.category,e.name]})):O(t=>({...t,category:t.category.filter(t=>t!==e.name)}))},className:"rounded border-gray-300"}),(0,a.jsx)("label",{htmlFor:`category-${e._id}`,className:"text-sm cursor-pointer",children:e.name})]},e._id))}),I.category.length>0&&(0,a.jsxs)("div",{className:"mt-2 pt-2 border-t",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-1",children:"Đ\xe3 chọn:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:I.category.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>{O(t=>({...t,category:t.category.filter(t=>t!==e)}))},className:"ml-1 text-blue-600 hover:text-blue-800",children:"\xd7"})]},t))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-price",children:"Gi\xe1 b\xe1n *"}),(0,a.jsx)(c.p,{id:"account-price",type:"number",min:"0",step:"1000",value:I.price||"",onChange:e=>{let t=e.target.value;(""===t||!isNaN(Number(t))&&Number(t)>=0)&&O(e=>({...e,price:""===t?0:Number(t)}))},required:!0,placeholder:"Nhập gi\xe1 b\xe1n"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-discount",children:"Giảm gi\xe1 (%)"}),(0,a.jsx)(c.p,{id:"account-discount",type:"number",min:"0",max:"100",step:"1",value:I.Discount||"",onChange:e=>{let t=e.target.value;(""===t||!isNaN(Number(t))&&Number(t)>=0&&100>=Number(t))&&O(e=>({...e,Discount:""===t?void 0:Number(t)}))},placeholder:"Nhập % giảm gi\xe1"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-stock",children:"Số lượng tồn kho"}),(0,a.jsx)(c.p,{id:"account-stock",type:"number",min:"0",step:"1",value:I.stock||"",onChange:e=>{let t=e.target.value;(""===t||!isNaN(Number(t))&&Number(t)>=0)&&O(e=>({...e,stock:""===t?void 0:Number(t)}))},placeholder:"Nhập số lượng"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"account-duration",children:"G\xf3i thời gian"}),(0,a.jsxs)("select",{id:"account-duration",value:I.duration,onChange:e=>O(t=>({...t,duration:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,a.jsx)("option",{value:"1_month",children:"1 th\xe1ng"}),(0,a.jsx)("option",{value:"3_months",children:"3 th\xe1ng"}),(0,a.jsx)("option",{value:"6_months",children:"6 th\xe1ng"}),(0,a.jsx)("option",{value:"1_year",children:"1 năm"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{children:"M\xf4 tả"}),I.description.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.T,{value:e,onChange:e=>et("description",t,e.target.value),placeholder:"Nhập m\xf4 tả..."}),I.description.length>1&&(0,a.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ea("description",t),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]},t)),(0,a.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>es("description"),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"})," Th\xeam m\xf4 tả"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{children:"Ch\xednh s\xe1ch"}),I.policy.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.T,{value:e,onChange:e=>et("policy",t,e.target.value),placeholder:"Nhập ch\xednh s\xe1ch..."}),I.policy.length>1&&(0,a.jsx)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ea("policy",t),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]},t)),(0,a.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>es("policy"),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"})," Th\xeam ch\xednh s\xe1ch"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"thumbnail",className:"text-sm font-medium",children:"Ảnh thumbnail"}),e&&J?.thumbnail&&!I.thumbnail&&(0,a.jsxs)("div",{className:"mt-2 p-2 border rounded-md bg-gray-50",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Ảnh hiện tại:"}),(0,a.jsx)("img",{src:`http://localhost:5000/api/files/${J.thumbnail}`,alt:"Current thumbnail",className:"w-20 h-20 object-cover rounded border",onError:e=>{e.currentTarget.style.display="none"}})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.p,{id:"thumbnail",type:"file",accept:"image/*",onChange:e=>ee("thumbnail",e.target.files),className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e?"Chọn ảnh mới để thay thế":"Chọn ảnh đại diện"})]}),I.thumbnail&&(0,a.jsx)("div",{className:"mt-2 p-2 border rounded-md bg-blue-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-blue-700 truncate",children:I.thumbnail.name}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(e=>({...e,thumbnail:null})),className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",children:"\xd7"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"imagepreview",className:"text-sm font-medium",children:"Ảnh preview"}),e&&J?.imagepreview&&J.imagepreview.length>0&&(!I.imagepreview||0===I.imagepreview.length)&&(0,a.jsxs)("div",{className:"mt-2 p-2 border rounded-md bg-gray-50",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Ảnh preview hiện tại:"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:J.imagepreview.map((e,t)=>(0,a.jsx)("img",{src:`http://localhost:5000/api/files/${e}`,alt:`Preview ${t+1}`,className:"w-16 h-16 object-cover rounded border",onError:e=>{e.currentTarget.style.display="none"}},t))})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.p,{id:"imagepreview",type:"file",accept:"image/*",multiple:!0,onChange:e=>ee("imagepreview",e.target.files),className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e?"Chọn ảnh mới để thay thế":"Chọn nhiều ảnh preview"})]}),I.imagepreview&&I.imagepreview.length>0&&(0,a.jsx)("div",{className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:Array.from(I.imagepreview).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md bg-green-50",children:[(0,a.jsx)("span",{className:"text-sm text-green-700 truncate",children:e.name}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=Array.from(I.imagepreview||[]).filter((e,s)=>s!==t);O(t=>({...t,imagepreview:e.length>0?e:null}))},className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",children:"\xd7"})]},t))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"videopreview",className:"text-sm font-medium",children:"Video preview"}),e&&J?.videopreview&&J.videopreview.length>0&&(!I.videopreview||0===I.videopreview.length)&&(0,a.jsxs)("div",{className:"mt-2 p-2 border rounded-md bg-gray-50",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Video preview hiện tại:"}),(0,a.jsx)("div",{className:"space-y-2",children:J.videopreview.map((e,t)=>(0,a.jsxs)("div",{className:"border rounded p-2",children:[(0,a.jsx)("video",{src:`http://localhost:5000/api/files/${e}`,className:"w-full h-32 object-cover rounded",controls:!0,onError:e=>{e.currentTarget.style.display="none"}}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Video ",t+1]})]},t))})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.p,{id:"videopreview",type:"file",accept:"video/*",multiple:!0,onChange:e=>ee("videopreview",e.target.files),className:"file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e?"Chọn video mới để thay thế":"Chọn video demo"})]}),I.videopreview&&I.videopreview.length>0&&(0,a.jsx)("div",{className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:Array.from(I.videopreview).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md bg-purple-50",children:[(0,a.jsx)("span",{className:"text-sm text-purple-700 truncate",children:e.name}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=Array.from(I.videopreview||[]).filter((e,s)=>s!==t);O(t=>({...t,videopreview:e.length>0?e:null}))},className:"text-red-600 hover:text-red-800 h-6 w-6 p-0",children:"\xd7"})]},t))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>{e?L(!1):q(!1),B()},children:"Hủy"}),(0,a.jsxs)(l.$,{type:"submit",disabled:K,children:[K&&(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Cập nhật":"Tạo mới"]})]})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.DashboardSidebar,{}),(0,a.jsx)("div",{className:`flex-1 overflow-auto transition-all duration-300 ${e?"lg:pl-16":"lg:pl-64"}`,children:(0,a.jsxs)("main",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Quản l\xfd t\xe0i khoản"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Tạo, chỉnh sửa v\xe0 quản l\xfd t\xe0i khoản sản phẩm"})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,a.jsx)(n.ZB,{children:"Danh s\xe1ch t\xe0i khoản"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.p,{placeholder:"T\xecm kiếm t\xe0i khoản...",value:A,onChange:e=>$(e.target.value),className:"pl-10 w-64"})]}),(0,a.jsxs)(m.Select,{value:D,onValueChange:P,children:[(0,a.jsx)(m.SelectTrigger,{className:"w-40",children:(0,a.jsx)(m.SelectValue,{})}),(0,a.jsxs)(m.SelectContent,{children:[(0,a.jsx)(m.SelectItem,{value:"Tất cả",children:"Tất cả"}),w.map(e=>(0,a.jsx)(m.SelectItem,{value:e.name,children:e.name},e._id))]})]}),(0,a.jsxs)(p.lG,{open:z,onOpenChange:q,children:[(0,a.jsx)(p.zM,{asChild:!0,children:(0,a.jsxs)(l.$,{onClick:()=>B(),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Tạo t\xe0i khoản"]})}),(0,a.jsxs)(p.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"Tạo t\xe0i khoản mới"})}),ei(!1)]})]})]})]})}),(0,a.jsxs)(n.Wu,{children:[C&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,a.jsx)(v.A,{className:"h-8 w-8 animate-spin"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Đang tải t\xe0i khoản..."})]}),_&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:_}),(0,a.jsx)(l.$,{onClick:H,variant:"outline",children:"Thử lại"})]}),!C&&!_&&(0,a.jsxs)(a.Fragment,{children:[Z.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-border",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"T\xean sản phẩm"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Danh mục"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Gi\xe1"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Giảm gi\xe1"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"G\xf3i thời gian"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Tồn kho"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Ng\xe0y tạo"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Thao t\xe1c"})]})}),(0,a.jsx)("tbody",{children:Z.map(e=>(0,a.jsxs)("tr",{className:"border-b border-border hover:bg-muted/50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.thumbnail&&(0,a.jsx)("img",{src:`http://localhost:5000/api/files/${e.thumbnail}`,alt:e.name,className:"w-10 h-10 rounded object-cover",onError:e=>{e.currentTarget.style.display="none"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground truncate max-w-xs",children:e.description?.[0]||"Kh\xf4ng c\xf3 m\xf4 tả"})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:e.category.map(e=>(0,a.jsx)(h.E,{variant:"secondary",className:"mr-1",children:e},e))}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:[e.price.toLocaleString("vi-VN"),"đ"]}),e.originalPrice&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground line-through",children:[e.originalPrice.toLocaleString("vi-VN"),"đ"]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:e.Discount?(0,a.jsxs)(h.E,{variant:"destructive",children:[e.Discount,"%"]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)(h.E,{variant:"outline",children:["1_month"===e.duration&&"1 th\xe1ng","3_months"===e.duration&&"3 th\xe1ng","6_months"===e.duration&&"6 th\xe1ng","1_year"===e.duration&&"1 năm"]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("span",{className:e.stock&&e.stock>0?"text-green-600":"text-red-600",children:e.stock||0})}),(0,a.jsx)("td",{className:"py-3 px-4",children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>Y(e),children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsxs)(x.Lt,{children:[(0,a.jsx)(x.tv,{asChild:!0,children:(0,a.jsx)(l.$,{variant:"outline",size:"sm",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(x.EO,{children:[(0,a.jsxs)(x.wd,{children:[(0,a.jsx)(x.r7,{children:"X\xe1c nhận x\xf3a"}),(0,a.jsxs)(x.$v,{children:['Bạn c\xf3 chắc chắn muốn x\xf3a t\xe0i khoản "',e.name,'"? H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c.']})]}),(0,a.jsxs)(x.ck,{children:[(0,a.jsx)(x.Zr,{children:"Hủy"}),(0,a.jsx)(x.Rx,{onClick:()=>U(e._id),className:"bg-red-500 hover:bg-red-600",children:"X\xf3a"})]})]})]})]})})]},e._id))})]})}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Kh\xf4ng t\xecm thấy t\xe0i khoản n\xe0o"}),(0,a.jsx)(l.$,{onClick:()=>{$(""),P("Tất cả")},variant:"outline",children:"X\xf3a bộ lọc"})]}),F>10&&(0,a.jsxs)("div",{className:"flex justify-center gap-2 mt-8",children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>M(e=>Math.max(1,e-1)),disabled:1===E,children:"Trang trước"}),(0,a.jsxs)("span",{className:"flex items-center px-4 text-sm text-muted-foreground",children:["Trang ",E," / ",Math.ceil(F/10)]}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>M(e=>e+1),disabled:E>=Math.ceil(F/10),children:"Trang sau"})]})]})]})]}),(0,a.jsx)(p.lG,{open:G,onOpenChange:L,children:(0,a.jsxs)(p.Cf,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"Chỉnh sửa t\xe0i khoản"})}),ei(!0)]})})]})})]})}},73071:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=s(65239),i=s(48088),r=s(88170),n=s.n(r),l=s(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o={children:["",{children:["admin",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,62408)),"/workspaces/Store-Management/app/admin/accounts/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97786)),"/workspaces/Store-Management/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,62998)),"/workspaces/Store-Management/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/workspaces/Store-Management/app/admin/accounts/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/accounts/page",pathname:"/admin/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[624,182,248,244,987],()=>s(73071));module.exports=a})();