(()=>{var e={};e.id=328,e.ids=[328],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9577:(e,t,s)=>{"use strict";s.d(t,{DashboardSidebar:()=>I});var a=s(60687),r=s(43210),n=s(85814),i=s.n(n),l=s(16189),d=s(24934),o=s(92241),c=s(70373),h=s(49625),u=s(28561),m=s(71057),x=s(58869),p=s(84027),g=s(41312),f=s(46001),j=s(99891),v=s(95163),N=s(80375),b=s(10510),y=s(14952),w=s(47033),k=s(40083),A=s(12941),C=s(45126),S=s(24302);let z=e=>{let t=[{title:"Tổng quan",href:"/dashboard",icon:h.A},{title:"Giỏ h\xe0ng",href:"/cart",icon:u.A},{title:"Đơn h\xe0ng đ\xe3 mua",href:"/dashboard/purchases",icon:m.A},{title:"Th\xf4ng tin t\xe0i khoản",href:"/dashboard/profile",icon:x.A},{title:"C\xe0i đặt",href:"/dashboard/settings",icon:p.A}],s=[{title:"Tổng quan",href:"/dashboard",icon:h.A},{title:"Quản l\xfd người d\xf9ng",href:"/admin/users",icon:g.A},{title:"Quản l\xfd cửa h\xe0ng t\xe0i khoản",href:"/admin/accounts",icon:f.A},{title:"Cấp t\xe0i khoản dịch vụ",href:"/admin/account-provisioning",icon:j.A},{title:"Quản l\xfd danh mục",href:"/admin/categories",icon:v.A},{title:"Quản l\xfd Source Code",href:"/admin/sourcecodes",icon:N.A},{title:"Quản l\xfd IDE v\xe0 Tools",href:"/admin/ide-tools",icon:b.A},{title:"C\xe0i đặt",href:"/dashboard/settings",icon:p.A}];return"admin"===e?s:t};function I(){let[e,t]=(0,r.useState)(!1),{isCollapsed:s,toggleSidebar:n}=(0,S.c)(),h=(0,l.usePathname)(),{user:u,logout:m}=(0,C.A)(),x=({collapsed:e=!1})=>(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:`p-4 border-b border-border ${e?"px-2":""}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(c.eu,{className:"h-8 w-8 flex-shrink-0",children:[(0,a.jsx)(c.BK,{src:"/placeholder.svg"}),(0,a.jsx)(c.q5,{children:u?.name?.[0]||"U"})]}),!e&&(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:u?.name||"Người d\xf9ng"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:u?.email})]})]})}),(0,a.jsxs)("nav",{className:"flex-1 p-3",children:[(0,a.jsx)("div",{className:"space-y-1",children:z(u?.role||"user").map(s=>{let r=h===s.href;return(0,a.jsxs)(i(),{href:s.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${r?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"} ${e?"justify-center":""}`,onClick:()=>t(!1),title:e?s.title:void 0,children:[(0,a.jsx)(s.icon,{className:"h-4 w-4 flex-shrink-0"}),!e&&s.title]},s.href)})}),(0,a.jsx)("div",{className:`mt-4 pt-3 border-t border-border ${e?"px-0":""}`,children:(0,a.jsxs)(d.$,{variant:"outline",size:"sm",className:"w-full h-8 text-xs bg-transparent",onClick:n,children:[s?(0,a.jsx)(y.A,{className:"h-3 w-3"}):(0,a.jsx)(w.A,{className:"h-3 w-3"}),!s&&(0,a.jsx)("span",{className:"ml-2",children:"Thu gọn"})]})})]}),(0,a.jsx)("div",{className:`p-3 border-t border-border ${e?"px-2":""}`,children:(0,a.jsxs)(d.$,{variant:"ghost",className:`w-full text-muted-foreground hover:text-foreground ${e?"justify-center px-2":"justify-start"}`,onClick:m,title:e?"Đăng xuất":void 0,children:[(0,a.jsx)(k.A,{className:"h-4 w-4 flex-shrink-0"}),!e&&(0,a.jsx)("span",{className:"ml-2",children:"Đăng xuất"})]})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:`hidden lg:flex lg:flex-col lg:fixed lg:top-16 lg:bottom-0 lg:border-r lg:border-border lg:bg-card transition-all duration-300 z-30 ${s?"lg:w-16":"lg:w-64"}`,children:(0,a.jsx)(x,{collapsed:s})}),(0,a.jsxs)(o.cj,{open:e,onOpenChange:t,children:[(0,a.jsx)(o.CG,{asChild:!0,className:"lg:hidden",children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-40",children:(0,a.jsx)(A.A,{className:"h-5 w-5"})})}),(0,a.jsx)(o.h,{side:"left",className:"w-64 p-0",children:(0,a.jsx)(x,{})})]})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14952:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},15616:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(60687);s(43210);var r=s(96241);function n({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20963:(e,t,s)=>{Promise.resolve().then(s.bind(s,72628))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41312:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},46001:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]])},47033:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48730:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},53381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=s(65239),r=s(48088),n=s(88170),i=s.n(n),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o={children:["",{children:["admin",{children:["account-provisioning",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,59755)),"/workspaces/Store-Management/app/admin/account-provisioning/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97786)),"/workspaces/Store-Management/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,62998)),"/workspaces/Store-Management/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/workspaces/Store-Management/app/admin/account-provisioning/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/account-provisioning/page",pathname:"/admin/account-provisioning",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},53860:(e,t,s)=>{Promise.resolve().then(s.bind(s,59755))},55192:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>i,wL:()=>c});var a=s(60687);s(43210);var r=s(96241);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},59755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/Store-Management/app/admin/account-provisioning/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/Store-Management/app/admin/account-provisioning/page.tsx","default")},61291:(e,t,s)=>{Promise.resolve().then(s.bind(s,97786))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},63974:(e,t,s)=>{"use strict";s.d(t,{Select:()=>o,SelectContent:()=>u,SelectItem:()=>m,SelectTrigger:()=>h,SelectValue:()=>c});var a=s(60687);s(43210);var r=s(28850),n=s(78272),i=s(13964),l=s(3589),d=s(96241);function o({...e}){return(0,a.jsx)(r.bL,{"data-slot":"select",...e})}function c({...e}){return(0,a.jsx)(r.WT,{"data-slot":"select-value",...e})}function h({className:e,size:t="default",children:s,...i}){return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[s,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function u({className:e,children:t,position:s="popper",...n}){return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function m({className:e,children:t,...s}){return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function x({className:e,...t}){return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}function p({className:e,...t}){return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}},70373:(e,t,s)=>{"use strict";s.d(t,{BK:()=>l,eu:()=>i,q5:()=>d});var a=s(60687);s(43210);var r=s(92951),n=s(96241);function i({className:e,...t}){return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function l({className:e,...t}){return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",e),...t})}function d({className:e,...t}){return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}},71057:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},72628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(60687),r=s(24302);function n({children:e}){return(0,a.jsx)(r.SidebarProvider,{children:(0,a.jsx)("div",{className:"flex h-screen bg-gray-50",children:e})})}},83893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(60687),r=s(43210),n=s(45126),i=s(24302),l=s(9577),d=s(24934),o=s(55192),c=s(68988),h=s(39390),u=s(15616),m=s(59821),x=s(96752),p=s(37826),g=s(63974),f=s(52581),j=s(5336),v=s(93613),N=s(48730),b=s(99270),y=s(98492),w=s(13861),k=s(63143);function A(){let{user:e}=(0,n.A)(),{isCollapsed:t}=(0,i.c)(),[s,A]=(0,r.useState)([]),[C,S]=(0,r.useState)(!0),[z,I]=(0,r.useState)(null),[M,T]=(0,r.useState)(""),[_,P]=(0,r.useState)("all"),[$,E]=(0,r.useState)(1),[q,F]=(0,r.useState)(0),[J,L]=(0,r.useState)(!1),[R,B]=(0,r.useState)(!1),[G,V]=(0,r.useState)(null),[H,K]=(0,r.useState)(!1),[D,O]=(0,r.useState)({username:"",password:"",email:"",additionalInfo:"",notes:"",expiresAt:""}),Q=async()=>{try{S(!0);let e=localStorage.getItem("token");if(!e)throw Error("No authentication token found");let t=new URLSearchParams({page:$.toString(),limit:"10",...M&&{search:M},..."all"!==_&&{status:_}}),s=await fetch(`http://localhost:5000/api/admin/account-info?${t}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok)throw Error("Failed to fetch accounts");let a=await s.json();A(a.accounts||[]),F(a.total||0),I(null)}catch(e){console.error("Error fetching accounts:",e),I(e instanceof Error?e.message:"An error occurred"),f.oR.error("Kh\xf4ng thể tải danh s\xe1ch t\xe0i khoản")}finally{S(!1)}},U=async()=>{if(G)try{K(!0);let e=localStorage.getItem("token");if(!e)throw Error("No authentication token found");if(!(await fetch(`http://localhost:5000/api/admin/account-info/${G._id}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...D,expiresAt:D.expiresAt?new Date(D.expiresAt).toISOString():null})})).ok)throw Error("Failed to update account");f.oR.success("Cập nhật th\xf4ng tin t\xe0i khoản th\xe0nh c\xf4ng"),L(!1),Q()}catch(e){console.error("Error updating account:",e),f.oR.error("Kh\xf4ng thể cập nhật th\xf4ng tin t\xe0i khoản")}finally{K(!1)}},Z=async e=>{try{let t=localStorage.getItem("token");if(!t)throw Error("No authentication token found");if(!(await fetch(`http://localhost:5000/api/admin/account-info/${e}/ready`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to mark account as ready");f.oR.success("Đ\xe3 đ\xe1nh dấu t\xe0i khoản sẵn s\xe0ng"),Q()}catch(e){console.error("Error marking account as ready:",e),f.oR.error("Kh\xf4ng thể đ\xe1nh dấu t\xe0i khoản sẵn s\xe0ng")}},W=e=>{V(e),O({username:e.username||"",password:e.password||"",email:e.email||"",additionalInfo:e.additionalInfo||"",notes:e.notes||"",expiresAt:e.expiresAt?new Date(e.expiresAt).toISOString().split("T")[0]:""}),L(!0)},X=e=>{V(e),B(!0)},Y=e=>e.isReady?(0,a.jsxs)(m.E,{variant:"default",className:"bg-green-500",children:[(0,a.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"Sẵn s\xe0ng"]}):e.username&&e.password?(0,a.jsxs)(m.E,{variant:"secondary",children:[(0,a.jsx)(v.A,{className:"w-3 h-3 mr-1"}),"Chờ x\xe1c nhận"]}):(0,a.jsxs)(m.E,{variant:"outline",children:[(0,a.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Chờ cấp"]}),ee=e=>new Date(e).toLocaleString("vi-VN");return e&&"admin"===e.role?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.DashboardSidebar,{}),(0,a.jsx)("div",{className:`flex-1 overflow-auto transition-all duration-300 ${t?"lg:pl-16":"lg:pl-64"}`,children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Cấp t\xe0i khoản dịch vụ"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Quản l\xfd việc cấp t\xe0i khoản dịch vụ cho người d\xf9ng"})]}),(0,a.jsxs)(o.Zp,{children:[(0,a.jsx)(o.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,a.jsxs)(o.ZB,{children:["Danh s\xe1ch t\xe0i khoản (",q,")"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)(c.p,{placeholder:"T\xecm kiếm theo t\xean, email, sản phẩm...",value:M,onChange:e=>T(e.target.value),className:"pl-10 w-64"})]}),(0,a.jsxs)(g.Select,{value:_,onValueChange:P,children:[(0,a.jsxs)(g.SelectTrigger,{className:"w-40",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(g.SelectValue,{})]}),(0,a.jsxs)(g.SelectContent,{children:[(0,a.jsx)(g.SelectItem,{value:"all",children:"Tất cả"}),(0,a.jsx)(g.SelectItem,{value:"pending",children:"Chờ cấp"}),(0,a.jsx)(g.SelectItem,{value:"ready",children:"Sẵn s\xe0ng"}),(0,a.jsx)(g.SelectItem,{value:"delivered",children:"Đ\xe3 giao"})]})]})]})]})}),(0,a.jsx)(o.Wu,{children:C?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Đang tải..."})}):z?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"text-red-500",children:z})}):0===s.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"text-muted-foreground",children:"Kh\xf4ng c\xf3 dữ liệu"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.XI,{children:[(0,a.jsx)(x.A0,{children:(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nd,{children:"Kh\xe1ch h\xe0ng"}),(0,a.jsx)(x.nd,{children:"Sản phẩm"}),(0,a.jsx)(x.nd,{children:"M\xe3 đơn h\xe0ng"}),(0,a.jsx)(x.nd,{children:"Trạng th\xe1i"}),(0,a.jsx)(x.nd,{children:"Ng\xe0y tạo"}),(0,a.jsx)(x.nd,{children:"Thao t\xe1c"})]})}),(0,a.jsx)(x.BF,{children:s.map(e=>(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.userId.name}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.userId.email})]})}),(0,a.jsx)(x.nA,{children:(0,a.jsx)("div",{className:"font-medium",children:e.productName})}),(0,a.jsx)(x.nA,{children:(0,a.jsx)("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:e.orderId})}),(0,a.jsx)(x.nA,{children:Y(e)}),(0,a.jsx)(x.nA,{children:ee(e.createdAt)}),(0,a.jsx)(x.nA,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>X(e),children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>W(e),children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),!e.isReady&&e.username&&e.password&&(0,a.jsx)(d.$,{variant:"default",size:"sm",onClick:()=>Z(e._id),children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})})]},e._id))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Hiển thị ",($-1)*10+1," - ",Math.min(10*$,q)," của ",q," kết quả"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>E(e=>Math.max(1,e-1)),disabled:1===$,children:"Trước"}),(0,a.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>E(e=>e+1),disabled:10*$>=q,children:"Sau"})]})]})]})})]})]})}),(0,a.jsx)(p.lG,{open:J,onOpenChange:L,children:(0,a.jsxs)(p.Cf,{className:"max-w-2xl",children:[(0,a.jsxs)(p.c7,{children:[(0,a.jsx)(p.L3,{children:"Cập nhật th\xf4ng tin t\xe0i khoản"}),(0,a.jsxs)(p.rr,{children:["Cập nhật th\xf4ng tin đăng nhập cho kh\xe1ch h\xe0ng ",G?.userId.name]})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"username",children:"T\xean đăng nhập"}),(0,a.jsx)(c.p,{id:"username",value:D.username,onChange:e=>O(t=>({...t,username:e.target.value})),placeholder:"Nhập t\xean đăng nhập"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"password",children:"Mật khẩu"}),(0,a.jsx)(c.p,{id:"password",type:"password",value:D.password,onChange:e=>O(t=>({...t,password:e.target.value})),placeholder:"Nhập mật khẩu"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"email",children:"Email t\xe0i khoản"}),(0,a.jsx)(c.p,{id:"email",type:"email",value:D.email,onChange:e=>O(t=>({...t,email:e.target.value})),placeholder:"Nhập email t\xe0i khoản"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"expiresAt",children:"Ng\xe0y hết hạn"}),(0,a.jsx)(c.p,{id:"expiresAt",type:"date",value:D.expiresAt,onChange:e=>O(t=>({...t,expiresAt:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"additionalInfo",children:"Th\xf4ng tin bổ sung"}),(0,a.jsx)(u.T,{id:"additionalInfo",value:D.additionalInfo,onChange:e=>O(t=>({...t,additionalInfo:e.target.value})),placeholder:"Nhập th\xf4ng tin bổ sung (nếu c\xf3)",rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(h.J,{htmlFor:"notes",children:"Ghi ch\xfa"}),(0,a.jsx)(u.T,{id:"notes",value:D.notes,onChange:e=>O(t=>({...t,notes:e.target.value})),placeholder:"Nhập ghi ch\xfa cho admin",rows:3})]})]}),(0,a.jsxs)(p.Es,{children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>L(!1),children:"Hủy"}),(0,a.jsx)(d.$,{onClick:U,disabled:H,children:H?"Đang cập nhật...":"Cập nhật"})]})]})}),(0,a.jsx)(p.lG,{open:R,onOpenChange:B,children:(0,a.jsxs)(p.Cf,{className:"max-w-2xl",children:[(0,a.jsxs)(p.c7,{children:[(0,a.jsx)(p.L3,{children:"Chi tiết t\xe0i khoản"}),(0,a.jsxs)(p.rr,{children:["Th\xf4ng tin chi tiết t\xe0i khoản của ",G?.userId.name]})]}),G&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Kh\xe1ch h\xe0ng"}),(0,a.jsx)("p",{className:"mt-1",children:G.userId.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:G.userId.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Sản phẩm"}),(0,a.jsx)("p",{className:"mt-1",children:G.productName})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"M\xe3 đơn h\xe0ng"}),(0,a.jsx)("p",{className:"mt-1 font-mono text-sm",children:G.orderId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Trạng th\xe1i"}),(0,a.jsx)("div",{className:"mt-1",children:Y(G)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"T\xean đăng nhập"}),(0,a.jsx)("p",{className:"mt-1",children:G.username||"Chưa cấp"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Mật khẩu"}),(0,a.jsx)("p",{className:"mt-1",children:G.password?"••••••••":"Chưa cấp"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Email t\xe0i khoản"}),(0,a.jsx)("p",{className:"mt-1",children:G.email||"Chưa cấp"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Ng\xe0y tạo"}),(0,a.jsx)("p",{className:"mt-1",children:ee(G.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Ng\xe0y hết hạn"}),(0,a.jsx)("p",{className:"mt-1",children:G.expiresAt?ee(G.expiresAt):"Kh\xf4ng giới hạn"})]})]}),G.additionalInfo&&(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Th\xf4ng tin bổ sung"}),(0,a.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:G.additionalInfo})]}),G.notes&&(0,a.jsxs)("div",{children:[(0,a.jsx)(h.J,{className:"text-sm font-medium text-muted-foreground",children:"Ghi ch\xfa"}),(0,a.jsx)("p",{className:"mt-1 whitespace-pre-wrap",children:G.notes})]})]}),(0,a.jsx)(p.Es,{children:(0,a.jsx)(d.$,{variant:"outline",onClick:()=>B(!1),children:"Đ\xf3ng"})})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.DashboardSidebar,{}),(0,a.jsx)("div",{className:`flex-1 overflow-auto transition-all duration-300 ${t?"lg:pl-16":"lg:pl-64"}`,children:(0,a.jsx)("div",{className:"p-6 flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Truy cập bị từ chối"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Bạn kh\xf4ng c\xf3 quyền truy cập trang n\xe0y."})]})})})]})}},84027:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90660:(e,t,s)=>{Promise.resolve().then(s.bind(s,83893))},92951:(e,t,s)=>{"use strict";s.d(t,{H4:()=>b,_V:()=>N,bL:()=>v});var a=s(43210),r=s(11273),n=s(13495),i=s(66156),l=s(14163),d=s(60687),o="Avatar",[c,h]=(0,r.A)(o),[u,m]=c(o),x=a.forwardRef((e,t)=>{let{__scopeAvatar:s,...r}=e,[n,i]=a.useState("idle");return(0,d.jsx)(u,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,d.jsx)(l.sG.span,{...r,ref:t})})});x.displayName=o;var p="AvatarImage",g=a.forwardRef((e,t)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:o=()=>{},...c}=e,h=m(p,s),u=function(e,t){let[s,r]=a.useState("idle");return(0,i.N)(()=>{if(!e){r("error");return}let s=!0,a=new window.Image,n=e=>()=>{s&&r(e)};return r("loading"),a.onload=n("loaded"),a.onerror=n("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),s}(r,c.referrerPolicy),x=(0,n.c)(e=>{o(e),h.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==u&&x(u)},[u,x]),"loaded"===u?(0,d.jsx)(l.sG.img,{...c,ref:t,src:r}):null});g.displayName=p;var f="AvatarFallback",j=a.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:r,...n}=e,i=m(f,s),[o,c]=a.useState(void 0===r);return a.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(l.sG.span,{...n,ref:t}):null});j.displayName=f;var v=x,N=g,b=j},93613:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},95163:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]])},96752:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>l,Hj:()=>d,XI:()=>n,nA:()=>c,nd:()=>o});var a=s(60687);s(43210);var r=s(96241);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})})}function i({className:e,...t}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...t})}function l({className:e,...t}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t})}function d({className:e,...t}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function o({className:e,...t}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},97786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/Store-Management/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/Store-Management/app/admin/layout.tsx","default")},98492:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},99891:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[624,182,244],()=>s(53381));module.exports=a})();