"use strict";exports.id=741,exports.ids=[741],exports.modules={429:(e,s,r)=>{r.d(s,{i:()=>i});var a=r(60687),l=r(43210),t=r(51499);function i({currentProductId:e,category:s,useSourceCodeApi:r=!1}){let[i,n]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0);return c?(0,a.jsxs)("section",{className:"py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Sản phẩm li\xean quan"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Những sản phẩm tương tự bạn c\xf3 thể quan t\xe2m"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},e))})]}):0===i.length?null:(0,a.jsxs)("section",{className:"py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Sản phẩm li\xean quan"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Những sản phẩm tương tự bạn c\xf3 thể quan t\xe2m"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(e=>(0,a.jsx)(t.A,{...e},e.id))})]})}r(59556),r(52581),process.env.NEXT_PUBLIC_API_URL},51499:(e,s,r)=>{r.d(s,{A:()=>p});var a=r(60687),l=r(55192),t=r(59821),i=r(24934),n=r(31158),c=r(19959),d=r(28561),o=r(13861),m=r(85814),x=r.n(m),h=r(29878),u=r(45126),g=r(71702);function p({id:e,title:s,description:r,price:m,originalPrice:p,category:j,image:v,seller:f,isHot:N=!1,href:b,productType:y="source-code",isPurchased:w=!1}){let{addToCart:A}=(0,h._)(),{user:$}=(0,u.A)(),{toast:k}=(0,g.dj)(),T=p?Math.round((p-m)/p*100):0;return(0,a.jsxs)(l.Zp,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-card border-border",children:[(0,a.jsxs)(l.aR,{className:"p-0 relative",children:[(0,a.jsx)("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:(0,a.jsx)("img",{src:v||"/placeholder.svg",alt:s,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"absolute top-2 left-2 flex gap-2",children:[N&&(0,a.jsx)(t.E,{variant:"destructive",className:"text-xs",children:"HOT"}),T>0&&(0,a.jsxs)(t.E,{variant:"secondary",className:"text-xs bg-primary text-primary-foreground",children:["-",T,"%"]})]}),(0,a.jsx)(t.E,{variant:"outline",className:"absolute top-2 right-2 text-xs",children:j})]}),(0,a.jsx)(l.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg line-clamp-2 group-hover:text-primary transition-colors",children:s}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:r}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-primary",children:[m.toLocaleString("vi-VN"),"đ"]}),p&&(0,a.jsxs)("span",{className:"text-sm text-muted-foreground line-through",children:[p.toLocaleString("vi-VN"),"đ"]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Bởi ",f]})]})}),(0,a.jsxs)(l.wL,{className:"p-4 pt-0 flex gap-2",children:[w?"source-code"===y?(0,a.jsx)(i.$,{className:"flex-1",asChild:!0,children:(0,a.jsxs)(x(),{href:`/dashboard/download/${e}`,children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Tải xuống"]})}):(0,a.jsx)(i.$,{className:"flex-1",asChild:!0,children:(0,a.jsxs)(x(),{href:`/dashboard/account-info/${e}`,children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Lấy th\xf4ng tin đăng nhập"]})}):(0,a.jsxs)(i.$,{onClick:()=>{if(!$){k({title:"Y\xeau cầu đăng nhập",description:"Vui l\xf2ng đăng nhập để th\xeam sản phẩm v\xe0o giỏ h\xe0ng",variant:"destructive"});return}A({id:e,title:s,price:m,originalPrice:p,image:v,seller:f}),k({title:"Th\xe0nh c\xf4ng!",description:"Đ\xe3 th\xeam sản phẩm v\xe0o giỏ h\xe0ng"})},className:"flex-1",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Th\xeam v\xe0o giỏ"]}),(0,a.jsx)(i.$,{variant:"outline",size:"icon",asChild:!0,children:(0,a.jsx)(x(),{href:b||`/product/${e}`,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})})]})]})}},55192:(e,s,r)=>{r.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>t,aR:()=>i,wL:()=>o});var a=r(60687);r(43210);var l=r(96241);function t({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",e),...s})}function c({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",e),...s})}function o({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,l.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}},95169:(e,s,r)=>{r.d(s,{J:()=>A});var a=r(60687),l=r(43210),t=r(24934),i=r(59821),n=r(55192),c=r(85910),d=r(51232);function o({...e}){return(0,a.jsx)(d.b,{"data-slot":"aspect-ratio",...e})}var m=r(68123),x=r(96241);function h({className:e,children:s,...r}){return(0,a.jsxs)(m.bL,{"data-slot":"scroll-area",className:(0,x.cn)("relative",e),...r,children:[(0,a.jsx)(m.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),(0,a.jsx)(u,{}),(0,a.jsx)(m.OK,{})]})}function u({className:e,orientation:s="vertical",...r}){return(0,a.jsx)(m.VM,{"data-slot":"scroll-area-scrollbar",orientation:s,className:(0,x.cn)("flex touch-none p-px transition-colors select-none","vertical"===s&&"h-full w-2.5 border-l border-l-transparent","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:(0,a.jsx)(m.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var g=r(47033),p=r(14952),j=r(28561),v=r(67760),f=r(81620),N=r(99891),b=r(88059),y=r(13943),w=r(25334);function A({product:e,hideMeta:s=!1}){let[r,d]=(0,l.useState)(0),[m,x]=(0,l.useState)(1),[u,A]=(0,l.useState)(!1),[$,k]=(0,l.useState)(!1),[T,S]=(0,l.useState)([]),C=(0,l.useRef)(null),E=e.originalPrice?Math.round((e.originalPrice-e.price)/e.originalPrice*100):0,L=Array.isArray(e.policy)&&e.policy.length>0,P=Array.isArray(e.videoPreview)&&e.videoPreview.length>0,M=Array.isArray(e.videoTutorial)&&e.videoTutorial.length>0,V=P||M,_=+!!V;return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-muted rounded-lg overflow-hidden",children:[(0,a.jsx)("img",{src:e.images[r]||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover"}),e.images.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.$,{variant:"outline",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm",onClick:()=>{d(s=>(s-1+e.images.length)%e.images.length)},children:(0,a.jsx)(g.A,{className:"h-4 w-4"})}),(0,a.jsx)(t.$,{variant:"outline",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-background/80 backdrop-blur-sm",onClick:()=>{d(s=>(s+1)%e.images.length)},children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[e.isHot&&(0,a.jsx)(i.E,{variant:"destructive",children:"HOT"}),E>0&&(0,a.jsxs)(i.E,{variant:"secondary",className:"bg-primary text-primary-foreground",children:["-",E,"%"]})]})]}),e.images.length>1&&(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:e.images.map((s,l)=>(0,a.jsx)("button",{onClick:()=>d(l),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ${l===r?"border-primary":"border-border"}`,children:(0,a.jsx)("img",{src:s||"/placeholder.svg",alt:`${e.title} ${l+1}`,className:"w-full h-full object-cover"})},l))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(()=>{let s=Array.from(new Set(e.tags||[])),r=!!e.category&&!s.includes(e.category);return(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsx)(i.E,{variant:"outline",children:e.category}),s.map(e=>(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:e},e))]})})()}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-4",children:e.title}),!s&&(0,a.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.inStock?(0,a.jsxs)("span",{className:"text-green-600",children:["C\xf2n ",e.stockCount," sản phẩm"]}):(0,a.jsx)("span",{className:"text-red-600",children:"Hết h\xe0ng"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold text-primary",children:[e.price.toLocaleString("vi-VN"),"đ"]}),e.originalPrice&&(0,a.jsxs)("span",{className:"text-xl text-muted-foreground line-through",children:[e.originalPrice.toLocaleString("vi-VN"),"đ"]})]}),(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:e.description})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(t.$,{size:"lg",className:"flex-1",disabled:!e.inStock,children:[(0,a.jsx)(j.A,{className:"h-5 w-5 mr-2"}),"Mua ngay"]}),(0,a.jsx)(t.$,{variant:"outline",size:"lg",onClick:()=>A(!u),className:u?"text-red-500 border-red-500":"",children:(0,a.jsx)(v.A,{className:`h-5 w-5 ${u?"fill-current":""}`})}),(0,a.jsx)(t.$,{variant:"outline",size:"lg",children:(0,a.jsx)(f.A,{className:"h-5 w-5"})})]}),L&&(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-6 text-sm text-muted-foreground",children:e.policy.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[0===s&&(0,a.jsx)(N.A,{className:"h-4 w-4"}),1===s&&(0,a.jsx)(b.A,{className:"h-4 w-4"}),2===s&&(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e})]},s))})]})]}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(c.tU,{defaultValue:"description",className:"w-full",children:[(0,a.jsxs)(c.j7,{className:`grid w-full ${3===2+_?"grid-cols-3":"grid-cols-2"}`,children:[(0,a.jsx)(c.Xi,{value:"description",children:"M\xf4 tả chi tiết"}),(0,a.jsx)(c.Xi,{value:"specifications",children:"Th\xf4ng số"}),V&&(0,a.jsx)(c.Xi,{value:"video",children:"Video"})]}),(0,a.jsx)(c.av,{value:"description",className:"mt-6",children:(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"p-6",children:[T.length>0&&(0,a.jsxs)("div",{className:"mb-6 rounded-lg border bg-muted/30 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-semibold mb-3",children:"Mục lục"}),(0,a.jsx)("nav",{className:"flex flex-wrap gap-3",children:T.map(e=>(0,a.jsx)("a",{href:`#${e.id}`,className:`text-xs px-2 py-1 rounded-md border hover:bg-accent transition ${3===e.level?"opacity-80":""}`,children:e.text},e.id))})]}),(0,a.jsxs)("div",{className:$?"prose prose-sm max-w-none prose-headings:text-foreground prose-a:text-primary hover:prose-a:underline prose-strong:text-foreground prose-li:marker:text-muted-foreground prose-img:rounded-lg prose-pre:bg-muted":"prose prose-sm max-w-none max-h-72 overflow-hidden relative prose-headings:text-foreground prose-a:text-primary hover:prose-a:underline prose-strong:text-foreground prose-li:marker:text-muted-foreground prose-img:rounded-lg prose-pre:bg-muted",children:[(0,a.jsx)("div",{ref:C,dangerouslySetInnerHTML:{__html:e.fullDescription}}),!$&&(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-24 bg-gradient-to-t from-background to-transparent pointer-events-none"})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>k(!$),children:$?"Thu gọn":"Xem th\xeam"})})]})})}),(0,a.jsx)(c.av,{value:"specifications",className:"mt-6",children:(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(e.specifications).filter(([e])=>!/lượt\s*tải/i.test(e)&&!/downloads?/i.test(e)&&!/\bluot\s*tai\b/i.test(e)).map(([e,s])=>(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b border-border last:border-0",children:[(0,a.jsx)("span",{className:"font-medium",children:e}),(0,a.jsx)("span",{className:"text-muted-foreground",children:s})]},e))})})})}),V&&(0,a.jsx)(c.av,{value:"video",className:"mt-6",children:(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsx)(h,{className:"h-[600px]",children:(0,a.jsxs)("div",{className:"p-6 space-y-8",children:[P&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Video preview"}),(0,a.jsx)(i.E,{variant:"outline",children:(e.videoPreview||[]).filter(Boolean).length})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(e.videoPreview||[]).filter(Boolean).map((e,s)=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card",children:[(0,a.jsx)(o,{ratio:16/9,className:"overflow-hidden rounded-t-lg",children:(0,a.jsxs)("video",{controls:!0,preload:"metadata",className:"h-full w-full",onError:e=>{e.currentTarget.style.display="none"},children:[(0,a.jsx)("source",{src:e}),"Tr\xecnh duyệt của bạn kh\xf4ng hỗ trợ ph\xe1t video."]})}),(0,a.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Preview ",s+1]}),(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline inline-flex items-center gap-1",children:["Mở ",(0,a.jsx)(w.A,{className:"h-3 w-3"})]})]})]},`vp-${s}`))})]}),M&&(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Video hướng dẫn"}),(0,a.jsx)(i.E,{variant:"outline",children:(e.videoTutorial||[]).filter(Boolean).length})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(e.videoTutorial||[]).filter(Boolean).map((e,s)=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card",children:[(0,a.jsx)(o,{ratio:16/9,className:"overflow-hidden rounded-t-lg",children:(0,a.jsxs)("video",{controls:!0,preload:"metadata",className:"h-full w-full",onError:e=>{e.currentTarget.style.display="none"},children:[(0,a.jsx)("source",{src:e}),"Tr\xecnh duyệt của bạn kh\xf4ng hỗ trợ ph\xe1t video."]})}),(0,a.jsxs)("div",{className:"p-3 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Hướng dẫn ",s+1]}),(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline inline-flex items-center gap-1",children:["Mở ",(0,a.jsx)(w.A,{className:"h-3 w-3"})]})]})]},`vt-${s}`))})]})]})})})})})]})})]})}}};