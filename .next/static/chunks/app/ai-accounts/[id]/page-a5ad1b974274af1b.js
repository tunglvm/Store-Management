(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8846],{5672:(i,e,t)=>{Promise.resolve().then(t.bind(t,9351))},9351:(i,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>h});var a=t(5155),r=t(2115),n=t(5695),s=t(1886),o=t(9886),c=t(8745),l=t(6671);let d=t(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:5000";function u(i){if(!i)return"";if("string"==typeof i)return i.startsWith("http://")||i.startsWith("https://")?i:"".concat(d,"/api/files/").concat(i);let e=(null==i?void 0:i.$oid)||(null==i?void 0:i._id)||(null==i?void 0:i.id);return e?"".concat(d,"/api/files/").concat(e):""}function h(){let[i,e]=(0,r.useState)(null),[t,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null),g=(0,n.useParams)(),v=Array.isArray(g.id)?g.id[0]:g.id;return((0,r.useEffect)(()=>{v&&(async()=>{try{d(!0),p(null);let n=await s.iw.getById(v);if(n.success&&n.data){var i,t,a,r;let s=n.data,o=Array.isArray(s.imagepreview)&&s.imagepreview.length>0?s.imagepreview.map(i=>u(i)).filter(Boolean):[u(s.thumbnail)||"/placeholder-h7ony.png"],c={id:s._id,title:s.name,description:(null===(i=s.description)||void 0===i?void 0:i[0])||"Kh\xf4ng c\xf3 m\xf4 tả",fullDescription:Array.isArray(s.description)?s.description.join("<br>"):s.description||"Kh\xf4ng c\xf3 m\xf4 tả chi tiết",price:s.price,originalPrice:s.Discount?Math.round(s.price/(1-s.Discount/100)):void 0,category:(null===(t=s.category)||void 0===t?void 0:t[0])||"Kh\xe1c",images:o,seller:{name:"ZuneF Store",rating:4.8,totalSales:100,joinDate:"2023-01-01",avatar:"/seller-avatar-1.png"},specifications:{"Danh mục":(null===(a=s.category)||void 0===a?void 0:a.join(", "))||"N/A","Thời hạn":s.duration||"N/A","Kho h\xe0ng":(null===(r=s.stock)||void 0===r?void 0:r.toString())||"0"},tags:s.category||[],inStock:(s.stock||0)>0,stockCount:s.stock||0,isHot:(s.Discount||0)>0,policy:Array.isArray(s.policy)?s.policy:[],videoPreview:Array.isArray(s.videopreview)?s.videopreview.map(i=>u(i)).filter(Boolean):[],videoTutorial:[]};e(c)}else p("Sản phẩm kh\xf4ng tồn tại")}catch(i){p("Kh\xf4ng thể tải th\xf4ng tin sản phẩm"),l.oR.error("Kh\xf4ng thể tải th\xf4ng tin sản phẩm")}finally{d(!1)}})()},[v]),t)?(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})})}):((h||!i)&&(0,n.notFound)(),(0,a.jsx)("div",{className:"min-h-screen bg-background",children:(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)(o.J,{product:i}),(0,a.jsx)(c.i,{currentProductId:i.id,category:i.category,useSourceCodeApi:!1})]})}))}}},i=>{var e=e=>i(i.s=e);i.O(0,[9460,7244,6671,64,1167,2355,4676,8441,1684,7358],()=>e(5672)),_N_E=i.O()}]);