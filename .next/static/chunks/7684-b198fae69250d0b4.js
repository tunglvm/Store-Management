"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7684],{1085:(e,t,a)=>{a.d(t,{CG:()=>c,cj:()=>i,h:()=>u});var o=a(5155);a(2115);var r=a(5452),n=a(4416),s=a(3999);function i(e){let{...t}=e;return(0,o.jsx)(r.bL,{"data-slot":"sheet",...t})}function c(e){let{...t}=e;return(0,o.jsx)(r.l9,{"data-slot":"sheet-trigger",...t})}function d(e){let{...t}=e;return(0,o.jsx)(r.ZL,{"data-slot":"sheet-portal",...t})}function l(e){let{className:t,...a}=e;return(0,o.jsx)(r.hJ,{"data-slot":"sheet-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,side:i="right",...c}=e;return(0,o.jsxs)(d,{children:[(0,o.jsx)(l,{}),(0,o.jsxs)(r.UC,{"data-slot":"sheet-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===i&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===i&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===i&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===i&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...c,children:[a,(0,o.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,o.jsx)(n.A,{className:"size-4"}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}},1886:(e,t,a)=>{a.d(t,{BP:()=>c,JR:()=>o,ZQ:()=>n,d3:()=>d,i$:()=>i,iw:()=>s});let o=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:5000";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(o).concat(e),r={};t.body instanceof FormData||(r["Content-Type"]="application/json");try{let e=localStorage.getItem("token");e&&(r.Authorization="Bearer ".concat(e))}catch(e){}let n={mode:"cors",credentials:"omit",...t,headers:{...r,...t.headers}};try{let e=await fetch(a,n),t=e.headers.get("content-type")||"",o=null;if(t.includes("application/json"))o=await e.json();else if(t){let t=await e.text();try{o=JSON.parse(t)}catch(e){o={message:t}}}if(!e.ok)throw{message:o&&o.message?o.message:"HTTP error! status: ".concat(e.status),status:e.status};return o}catch(e){if(404===(null==e?void 0:e.status)&&(a.includes("/api/sourcecode/slug/")||a.includes("/api/category/slug/"))||console.error("API call failed:",{endpoint:a,method:n.method||"GET",error:(null==e?void 0:e.message)||e}),e&&"object"==typeof e&&"message"in e)throw e;throw{message:"Network error. Please try again."}}}let n={register:async(e,t,a)=>r("/api/auth/register",{method:"POST",body:JSON.stringify({name:e,email:t,password:a})}),login:async(e,t)=>r("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),verify:async e=>r("/api/auth/verify?token=".concat(e),{method:"GET"}),forgetPassword:async e=>r("/api/auth/forgetpassword",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:async(e,t)=>r("/api/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,newPassword:t})})},s={getAll:async(e,t,a,o)=>{let n=new URLSearchParams;e&&n.append("page",e.toString()),t&&n.append("limit",t.toString()),a&&n.append("search",a),o&&n.append("category",o);let s=n.toString();return r("/api/account/getall".concat(s?"?".concat(s):""))},getById:async e=>r("/api/account/get/".concat(e)),create:async e=>r("/api/account/create",{method:"POST",body:e}),update:async(e,t)=>r("/api/account/update/".concat(e),{method:"PUT",body:t}),delete:async e=>r("/api/account/delete/".concat(e),{method:"DELETE"})},i={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n=new URLSearchParams;n.append("page",e.toString()),n.append("limit",t.toString()),a&&n.append("search",a),o&&n.append("role",o);let s=n.toString();return r("/api/user/getall".concat(s?"?".concat(s):""))},getById:async e=>r("/api/user/get/".concat(e)),update:async(e,t)=>r("/api/user/update/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>r("/api/user/delete/".concat(e),{method:"DELETE"}),updatePassword:async(e,t)=>r("/api/user/update-password/".concat(e),{method:"PUT",body:JSON.stringify({newPassword:t})})},c={getAll:async(e,t,a,o)=>{let n=new URLSearchParams;e&&n.append("page",e.toString()),t&&n.append("limit",t.toString()),a&&n.append("search",a),void 0!==o&&n.append("isActive",o.toString());let s=n.toString();return r("/api/category/getall".concat(s?"?".concat(s):""))},getActive:async()=>r("/api/category/active"),getById:async e=>r("/api/category/get/".concat(e)),getBySlug:async e=>r("/api/category/slug/".concat(e)),create:async e=>r("/api/category/create",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>r("/api/category/update/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>r("/api/category/delete/".concat(e),{method:"DELETE"})},d={getAll:async(e,t,a,o,n,s,i,c,d)=>{let l=new URLSearchParams;e&&l.append("page",e.toString()),t&&l.append("limit",t.toString()),a&&l.append("search",a),o&&l.append("category",o),n&&l.append("tags",n),void 0!==s&&l.append("isActive",s.toString()),i&&l.append("createdBy",i),c&&l.append("sortBy",c),d&&l.append("sortOrder",d);let u=l.toString();return r("/api/sourcecode/getall".concat(u?"?".concat(u):""))},getById:async e=>r("/api/sourcecode/get/".concat(e)),getBySlug:async e=>r("/api/sourcecode/slug/".concat(e)),create:async e=>r("/api/sourcecode/create",{method:"POST",body:e}),update:async(e,t)=>r("/api/sourcecode/update/".concat(e),{method:"PUT",body:t}),delete:async e=>r("/api/sourcecode/delete/".concat(e),{method:"DELETE"}),incrementView:async e=>r("/api/sourcecode/view/".concat(e),{method:"PATCH"}),incrementDownload:async e=>r("/api/sourcecode/download/".concat(e),{method:"PATCH"})}},3999:(e,t,a)=>{a.d(t,{cn:()=>n});var o=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,o.$)(t))}},6052:(e,t,a)=>{a.d(t,{A:()=>d,AuthProvider:()=>c});var o=a(5155),r=a(2115),n=a(5695),s=a(1886);let i=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[d,l]=(0,r.useState)(!0),u=(0,n.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&c(JSON.parse(e)),l(!1)},[]);let g=async(e,t)=>{l(!0);try{let a=await s.ZQ.login(e,t);if(a.success&&a.data){let{user:e,token:t}=a.data;c(e),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)}else throw Error(a.message||"Đăng nhập thất bại")}catch(e){throw Error(e.message||"Đăng nhập thất bại")}finally{l(!1)}},p=async(e,t,a)=>{l(!0);try{let o=await s.ZQ.register(e,t,a);if(o.success)throw Error(o.message||"Đăng k\xfd th\xe0nh c\xf4ng! Vui l\xf2ng kiểm tra email để x\xe1c minh t\xe0i khoản.");throw Error(o.message||"Đăng k\xfd thất bại")}catch(e){throw Error(e.message||"Đăng k\xfd thất bại")}finally{l(!1)}},h=async e=>{l(!0);try{let t=await s.ZQ.forgetPassword(e);if(!t.success)throw Error(t.message||"Gửi email đặt lại mật khẩu thất bại")}catch(e){throw Error(e.message||"Gửi email đặt lại mật khẩu thất bại")}finally{l(!1)}},y=async(e,t)=>{l(!0);try{let a=await s.ZQ.resetPassword(e,t);if(!a.success)throw Error(a.message||"Đặt lại mật khẩu thất bại")}catch(e){throw Error(e.message||"Đặt lại mật khẩu thất bại")}finally{l(!1)}};return(0,o.jsx)(i.Provider,{value:{user:a,login:g,register:p,logout:()=>{c(null),localStorage.removeItem("user"),localStorage.removeItem("token"),u.push("/")},isLoading:d,forgetPassword:h,resetPassword:y},children:t})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7168:(e,t,a)=>{a.d(t,{$:()=>c,r:()=>i});var o=a(5155);a(2115);var r=a(9708),n=a(2085),s=a(3999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:a,size:n,asChild:c=!1,...d}=e,l=c?r.DX:"button";return(0,o.jsx)(l,{"data-slot":"button",className:(0,s.cn)(i({variant:a,size:n,className:t})),...d})}},8738:(e,t,a)=>{a.d(t,{SidebarProvider:()=>s,c:()=>i});var o=a(5155),r=a(2115);let n=(0,r.createContext)(void 0);function s(e){let{children:t}=e,[a,s]=(0,r.useState)(!1);return(0,o.jsx)(n.Provider,{value:{isCollapsed:a,toggleSidebar:()=>{s(!a)}},children:t})}function i(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useSidebar must be used within a SidebarProvider");return e}}}]);